# V1 Implementation Plan: Project Overview Page

## Terminology

Consistent terms we'll use throughout the codebase:

- **Trace**: A single execution/invocation of an AI model or function. The fundamental unit of logging in Braintrust.
- **Log Entry**: A trace record as displayed in the UI. Each row in the log list represents one trace.
- **Span**: A sub-component or child operation within a trace (future feature for V2+).
- **Project**: Top-level container that holds all traces, experiments, and configuration.
- **Observability**: The monitoring and viewing of trace data, metrics, and performance statistics.
- **Evaluation**: Testing and scoring traces against datasets or criteria.
- **TTFT**: Time To First Token - the latency before the first token is generated.
- **LLM Cost**: The dollar cost of running an LLM inference.

## Components Inventory

All React components to be created for V1:

### Layout Components
- **`Sidebar.tsx`** - Left navigation sidebar with user profile and menu items
- **`ProjectLayout.tsx`** - Main layout wrapper that combines sidebar + content area
- **`ProjectHeader.tsx`** - Top bar displaying project name, ID, and configuration button

### Observability Panel Components
- **`ObservabilityCard.tsx`** - Main container for the left panel (stats, graph, logs)
- **`StatCard.tsx`** - Reusable component for displaying individual statistics
- **`TimelineGraph.tsx`** - Timeline visualization (placeholder for V1, simple bars)
- **`LogEntry.tsx`** - Individual trace row component (clickable)

### Evaluation Panel Components
- **`EvaluationCard.tsx`** - Right panel with "Get started with evals" content and action buttons

## File Structure

```
/Users/jasonhwang/src/jh-projects/braintrust-clone/
├── app/
│   ├── layout.tsx (updated)
│   ├── page.tsx (updated)
│   └── globals.css (updated with theme system)
├── components/
│   ├── Sidebar.tsx
│   ├── ProjectLayout.tsx
│   ├── ProjectHeader.tsx
│   ├── ObservabilityCard.tsx
│   ├── StatCard.tsx
│   ├── TimelineGraph.tsx
│   ├── LogEntry.tsx
│   └── EvaluationCard.tsx
├── types/
│   └── index.ts
├── data/
│   └── logs.json
├── lib/
│   └── theme.ts
└── V1.md (this file)
```

## Data Schema

### logs.json Structure
```json
{
  "project": {
    "id": "581558dc-d33b-48bb-884f-f77866d22c87",
    "name": "My Project"
  },
  "stats": {
    "traces": 1,
    "llmCost": 0.001,
    "avgLatency": 0.8,
    "tokens": 16,
    "avgTTFT": 0
  },
  "logs": [
    {
      "id": "1",
      "name": "generate_content",
      "timestamp": "2025-10-29T16:26:00Z",
      "cost": 0.0001,
      "latency": 0.8,
      "tokens": 16,
      "ttft": 0
    }
  ]
}
```

### TypeScript Types
```typescript
export interface Project {
  id: string;
  name: string;
}

export interface ObservabilityStats {
  traces: number;
  llmCost: number;
  avgLatency: number;
  tokens: number;
  avgTTFT: number;
}

export interface LogEntry {
  id: string;
  name: string;
  timestamp: string;
  cost: number;
  latency: number;
  tokens: number;
  ttft: number;
}

export interface ProjectData {
  project: Project;
  stats: ObservabilityStats;
  logs: LogEntry[];
}
```

## Implementation Plan

### Phase 0: Documentation & Setup

#### ✅ Create V1.md Documentation
- [x] Define terminology
- [x] List all components
- [x] Document file structure and data schema

#### Update globals.css with Theme System
Set up comprehensive theme system:
```css
/* Light mode variables in :root */
:root {
  --background: white;
  --foreground: #101010;
  --muted: #595959;
  --surface: rgb(243, 248, 255);
  /* ... more variables */
}

/* Dark mode variables in .dark class */
.dark {
  --background: #030620;
  --foreground: #e5ecf6;
  --muted: rgba(229, 236, 246, 0.75);
  /* ... more variables */
}

/* Register with Tailwind v4 */
@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  /* ... more registrations */
}
```

#### Create Theme Utility
- Create `lib/theme.ts` with functions to:
  - Toggle dark/light mode
  - Persist preference to localStorage
  - Apply class to `<html>` element
  - Default to dark mode for V1

### Phase 1: Data Layer & Types
- Create `types/index.ts` with all TypeScript interfaces
- Create `data/logs.json` with sample project data and trace entries

### Phase 2: Theme & Global Styles
- Update `app/globals.css` with theme variables
- Create `lib/theme.ts` for theme management
- Set default dark mode in layout

### Phase 3: Core Layout Components

#### Sidebar.tsx
- User profile section at top (username "dotjasonhwang")
- Navigation menu items:
  - Overview (active state)
  - Logs
  - Monitor
  - Review
  - Playgrounds
  - Experiments
  - Datasets
  - Prompts
  - Scorers
  - More
  - Configuration
- Dark theme styling
- Active state highlighting

#### ProjectHeader.tsx
- Project name display
- Project ID display with copy functionality
- "Configure project" button
- Right-aligned "Upgrade" button

#### ProjectLayout.tsx
- Combine Sidebar + ProjectHeader + content area
- Responsive grid layout
- Props for children content

### Phase 4: Observability Components

#### StatCard.tsx
- Display label and value
- Support for different value types (number, currency, percentage)
- Compact layout matching screenshot

#### TimelineGraph.tsx
- Simple placeholder visualization
- X-axis with date labels (Thu 23 - Wed 29)
- Single vertical bar for the one log entry
- Dark theme styling

#### LogEntry.tsx
- Display trace name ("generate_content")
- Timestamp ("4m ago")
- Clickable row
- Hover state
- onClick handler prop for navigation

#### ObservabilityCard.tsx
- "Monitor" and "Logs" tab buttons
- Grid of StatCard components
- TimelineGraph component
- List of LogEntry components
- "Logs in the last 7 days" subtitle
- Dark card styling with subtle borders

### Phase 5: Evaluation Components

#### EvaluationCard.tsx
- "Evaluation" header
- "Measure and iterate on performance" subtitle
- Blue gradient icon
- "Get started with evals" title
- Description text
- Three action buttons:
  - "Add your prompt"
  - "Upload data"
  - "Create experiment"
- Non-functional for V1 (just styling)

### Phase 6: Page Composition

#### Update app/page.tsx
- Import all components
- Load data from `logs.json`
- Set up ProjectLayout with Sidebar
- Create two-column grid for Observability and Evaluation cards
- Wire up LogEntry click handlers (console.log for V1)
- Pass data props to all components

#### Update app/layout.tsx
- Update metadata (title: "Braintrust Clone", description)
- Add `dark` class to `<html>` by default
- Keep font setup unchanged

### Phase 7: Testing & Polish
- Run `npm run dev` and view in browser
- Compare with reference screenshot
- Adjust:
  - Spacing and padding
  - Font sizes
  - Colors and borders
  - Icon sizes
  - Button styles
- Test dark mode appearance
- Verify all components render correctly

## V1 Scope vs V2 Scope

### V1 (Current Implementation)
- ✅ Dark mode only (light mode styles defined but not toggleable)
- ✅ Hardcoded stats in UI (loaded from JSON but static)
- ✅ Placeholder timeline graph (simple visualization)
- ✅ Non-functional action buttons (styled only)
- ✅ Console.log click handler for log entries
- ✅ Single sample trace entry
- ✅ No routing/navigation

### V2 (Future Enhancements)
- [ ] Theme toggle UI component
- [ ] Dynamic stats calculated from trace data
- [ ] Interactive timeline graph with zoom/pan
- [ ] Functional action buttons with modals
- [ ] Actual routing to log detail page
- [ ] Multiple trace entries with filtering
- [ ] Search and date range selection
- [ ] Real-time data updates

## Design Notes

### Color Palette (Dark Mode)
- Background: `#030620` (deep navy)
- Surface: `#030620` (cards same as background)
- Surface highlighted: `rgb(15, 23, 42)` (lighter cards)
- Foreground: `#e5ecf6` (light text)
- Muted: `rgba(229, 236, 246, 0.75)` (secondary text)
- Primary: `#0161ef` (bright blue)
- Accent: `#AD78FF` (purple)
- Border: `#4b5563` (subtle gray)

### Typography
- Using Geist Sans and Geist Mono (already configured in layout)
- Primary text: 14-16px
- Headers: 18-24px
- Subtle text: 12-14px

### Spacing
- Card padding: 24px
- Section gaps: 16-24px
- Component margins: 8-12px
- Grid gaps: 16-20px

### Icons
- For V1, use simple Unicode symbols or CSS shapes
- V2 can add proper icon library (lucide-react or heroicons)

## Development Commands

```bash
# Start dev server
npm run dev

# Build for production
npm run build

# Run linter
npm run lint

# Test API integration
npm run api-test
```

## Success Criteria

V1 is complete when:
1. ✅ All components are created and rendering
2. ✅ Layout matches reference screenshot (dark mode)
3. ✅ Data loads from JSON file correctly
4. ✅ Click handlers are wired up (console.log output)
5. ✅ No TypeScript errors
6. ✅ No ESLint errors
7. ✅ Page is responsive (desktop-first, mobile consideration for V2)
8. ✅ Theme system is set up and working (dark mode default)

---

**Time Box**: ~3 hours for V1 implementation
**Next Steps**: After V1 completion, update CLAUDE.md roadmap and begin V2 planning
